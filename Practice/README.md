# 详细实现

## 1-codec

- 实现**编/解码**(消息的序列化/反序列化)
- 实现一个**简易服务端**(server)来接受消息
- 在`main()`中使用`net.Dial()`拨号模拟一次rpc请求(客户端)
- 编码时使用`bufio.Writer`创建**写缓冲**，提高发送请求性能
- 在解码时使用`sync.Mutex`互斥锁来确保其他go协程往同一个缓冲区写入
- 处理请求时使用`sync.WaitGroup`同步器来确保**一次连接**中，服务端能处理完**所有请求**后，再断开连接

这里引用下网友**`panjianning`**的UML图:
![](img/codec_1.png)
